{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","App.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/Button/Button.jsx","services/images-api.jsx","components/ImageGallery/ImageGallery.jsx","App.jsx","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","imageName","handleNameChange","event","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","reset","toast","error","className","s","SearchForm","this","type","name","placeholder","onChange","React","Component","ImageGalleryItem","webformatURL","src","alt","Button","onLoadMore","onClick","fetchImages","page","fetch","then","res","console","log","ok","json","Promise","reject","Error","hits","ImageGallery","images","status","prevState","prevProps","prevImageName","nextImageName","catch","window","scrollTo","top","document","documentElement","scrollHeight","behavior","color","height","width","timeout","message","map","image","id","length","App","formSubmitHandler","autoClose","theme","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.20c935fe.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3CvRl\",\"ImageGalleryItem-image\":\"ImageGalleryItem_ImageGalleryItem-image__1C-z-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__16ZpL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__DncjJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3R1xi\"};","import React from 'react';\nimport { toast } from 'react-toastify';\n\nimport s from './Searchbar.module.css';\n\nclass Searchbar extends React.Component {\n  state = {\n    imageName: '',\n  };\n\n  handleNameChange = event => {\n    this.setState({ imageName: event.currentTarget.value.toLowerCase() });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n    if (this.state.imageName.trim() === '') {\n      // console.log('Enter image name.');\n      toast.error('Enter image name.');\n      return;\n    }\n\n    // Проп который передается форме для вызова при сабмите\n    this.props.onSubmit(this.state.imageName);\n    // Сбрасываем значение input\n    this.reset();\n  };\n\n  reset = () => {\n    this.setState({ imageName: '' });\n  };\n\n  render() {\n    return (\n      <header className={s.Searchbar}>\n        <form className={s.SearchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={s['SearchForm-button']}>\n            <span className={s['SearchForm-button-label']}>Search</span>\n          </button>\n\n          <input\n            className={s['SearchForm-input']}\n            type=\"text\"\n            // autocomplete=\"off\"\n            // autofocus\n            name=\"imageName\"\n            value={this.state.imageName}\n            placeholder=\"Search images and photos\"\n            onChange={this.handleNameChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","import s from './ImageGalleryItem.module.css';\n\nfunction ImageGalleryItem({ webformatURL }) {\n  return (\n    <li className={s.ImageGalleryItem}>\n      <img src={webformatURL} alt=\"\" className={s['ImageGalleryItem-image']} />\n    </li>\n  );\n}\n\nexport default ImageGalleryItem;\n","import s from './Button.module.css';\n\nfunction Button({ onLoadMore }) {\n  return (\n    <button type=\"button\" className={s.Button} onClick={() => onLoadMore()}>\n      Load more\n    </button>\n  );\n}\n\nexport default Button;\n","function fetchImages(imageName, page) {\n  return fetch(\n    `https://pixabay.com/api/?key=22969928-aad90fecb00099c81964f1030&per_page=12&page=${page}&q=${imageName}&image_type=photo`,\n  )\n    .then(res => {\n      console.log(res);\n      if (res.ok) {\n        return res.json();\n      }\n\n      return Promise.reject(new Error('Чтото пошло не так '));\n    })\n    .then(res => res.hits);\n}\n\nexport default fetchImages;\n","import React from 'react';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport Loader from 'react-loader-spinner';\n// import { v4 as uuidv4 } from 'uuid';\n\nimport s from './ImageGallery.module.css';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport Button from '../Button/Button';\nimport fetchImages from '../../services/images-api';\n\nclass ImageGallery extends React.Component {\n  state = {\n    images: [],\n    page: 1,\n    status: 'idle',\n    error: null,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevImageName = prevProps.imageName;\n    const nextImageName = this.props.imageName;\n\n    if (prevImageName !== nextImageName) {\n      this.setState({ status: 'pending', page: 1 });\n\n      fetchImages(nextImageName, this.state.page)\n        .then(images => this.setState({ images, status: 'resolved' }))\n        .catch(error => this.setState({ error, status: 'rejected' }));\n    }\n\n    if (prevState.page !== this.state.page) {\n      this.setState({ status: 'pending' });\n\n      fetchImages(nextImageName, this.state.page)\n        .then(images =>\n          this.setState(prevState => {\n            return {\n              images: [...prevState.images, ...images],\n              status: 'resolved',\n            };\n          }),\n        )\n        .then(() => {\n          return window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: 'smooth',\n          });\n        })\n        .catch(error => this.setState({ error, status: 'rejected' }));\n    }\n  }\n\n  onLoadMore = () => {\n    this.setState(prevState => {\n      return {\n        page: prevState.page + 1,\n      };\n    });\n  };\n\n  render() {\n    const { images, error, status } = this.state;\n    // const { imageName } = this.props;\n\n    // // console.log(imageName);\n    if (status === 'idle') {\n      return <div>Введите имя изображения</div>;\n    }\n\n    if (status === 'pending') {\n      return (\n        <div>\n          {\n            <Loader\n              type=\"Rings\"\n              color=\"#00BFFF\"\n              height={100}\n              width={100}\n              timeout={3000} //3 secs\n            />\n          }\n          Загружаем...\n        </div>\n      );\n    }\n\n    if (status === 'rejected') {\n      return <h1>{error.message}</h1>;\n    }\n\n    if (status === 'resolved') {\n      return (\n        <>\n          <ul className={s.ImageGallery}>\n            {images.map(image => (\n              <ImageGalleryItem\n                key={image.id}\n                webformatURL={image.webformatURL}\n              />\n            ))}\n          </ul>\n          {error && <h1>{error.message}</h1>}\n          {this.state.images.length !== 0 && (\n            <Button onLoadMore={this.onLoadMore} />\n          )}\n        </>\n      );\n    }\n  }\n}\n\nexport default ImageGallery;\n","import React from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n// import { v4 as uuidv4 } from 'uuid';\n\nimport s from './App.module.css';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\n\nclass App extends React.Component {\n  state = {\n    imageName: '',\n  };\n\n  formSubmitHandler = imageName => {\n    this.setState({ imageName });\n  };\n\n  render() {\n    return (\n      <div className={s.App}>\n        <Searchbar onSubmit={this.formSubmitHandler} />\n        <ImageGallery imageName={this.state.imageName} />\n        <ToastContainer autoClose={3000} theme={'colored'} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n// import reportWebVitals from './reportWebVitals';\n// ============================================\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__DjWH3\",\"SearchForm\":\"Searchbar_SearchForm__1ac2l\",\"SearchForm-button\":\"Searchbar_SearchForm-button__3u-rY\",\"SearchForm-button-label\":\"Searchbar_SearchForm-button-label__2bzU3\",\"SearchForm-input\":\"Searchbar_SearchForm-input__j6qzO\"};"],"sourceRoot":""}